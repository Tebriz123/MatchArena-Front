<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kateqoriya Yarat - MatchArena</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="index.html">
                    <svg class="logo-icon" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="16" cy="16" r="16" fill="#22C55E"/>
                        <path d="M16 6C10.48 6 6 10.48 6 16C6 21.52 10.48 26 16 26C21.52 26 26 21.52 26 16C26 10.48 21.52 6 16 6ZM16 24C11.59 24 8 20.41 8 16C8 11.59 11.59 8 16 8C20.41 8 24 11.59 24 16C24 20.41 20.41 24 16 24ZM16 10L13.5 12.5L11 10L10 14L14 15L16 18L18 15L22 14L21 10L18.5 12.5L16 10Z" fill="white"/>
                    </svg>
                    <span>MatchArena</span>
                </a>
            </div>
            <div class="nav-menu">
                <a href="players.html" class="nav-link">Oyun√ßular</a>
                <a href="teams.html" class="nav-link">Komandalar</a>
                <a href="fields.html" class="nav-link">Meydan√ßalar</a>
                <a href="tournaments.html" class="nav-link">Turnirler</a>
                <a href="products.html" class="nav-link">M…ôhsullar</a>
            </div>
            <div class="nav-right">
                <button class="theme-toggle">üåê</button>
                <button class="notification-btn">üîî</button>
                <span class="user-name">Admin</span>
                <a href="admin-panel.html" class="login-btn">Admin Panel</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main>
        <div class="form-container">
            <h1 class="section-title">Yeni Kateqoriya Yarat</h1>
            <p class="section-subtitle">M…ôhsul kateqoriyasƒ± …ôlav…ô edin</p>

            <form class="create-form" id="createCategoryForm">
                <div class="form-section">
                    <h3 class="form-section-title">∆èsas M…ôlumatlar</h3>
                    
                    <div class="form-group">
                        <label for="categoryName" class="form-label">Kateqoriya Adƒ± *</label>
                        <input type="text" id="categoryName" name="categoryName" class="form-input" required placeholder="M…ôs. Avadanlƒ±q">
                    </div>

                    <div class="form-group">
                        <label for="categoryIcon" class="form-label">ƒ∞kon (Emoji) *</label>
                        <input type="text" id="categoryIcon" name="categoryIcon" class="form-input" required placeholder="M…ôs. ‚öΩ üëï üõ°Ô∏è üéí" maxlength="2">
                        <small class="form-hint">Bir emoji daxil edin (Windows: Win + . | Mac: Cmd + Ctrl + Space)</small>
                    </div>

                    <div class="form-group">
                        <label class="form-label">ƒ∞kon √ñnizl…ôm…ô</label>
                        <div style="display: flex; align-items: center; justify-content: center; width: 80px; height: 80px; background: linear-gradient(145deg, #1a1f2e, #232a3b); border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); font-size: 2.5rem;" id="iconPreview">
                            üìÇ
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="description" class="form-label">T…ôsvir</label>
                        <textarea id="description" name="description" class="form-textarea" rows="3" placeholder="Kateqoriya haqqƒ±nda qƒ±sa m…ôlumat (ixtiyari)"></textarea>
                    </div>

                    <div class="form-group">
                        <label for="status" class="form-label">Status *</label>
                        <select id="status" name="status" class="form-input" required>
                            <option value="active" selected>Aktiv</option>
                            <option value="inactive">ƒ∞naktiv</option>
                        </select>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="form-section-title">∆èlav…ô Parametrl…ôr</h3>
                    
                    <div class="form-group">
                        <label for="sortOrder" class="form-label">Sƒ±ralama</label>
                        <input type="number" id="sortOrder" name="sortOrder" class="form-input" min="0" value="0" placeholder="0">
                        <small class="form-hint">Kateqoriyalarƒ±n g√∂r√ºnm…ô ardƒ±cƒ±llƒ±ƒüƒ± (0 - …ôn √ºstd…ô)</small>
                    </div>

                    <div class="form-group">
                        <label class="form-label">X√ºsusiyy…ôtl…ôr</label>
                        <div class="form-checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="showInMenu" id="showInMenu" checked>
                                <span>üìã Menyuda g√∂st…ôr</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="featured" id="featured">
                                <span>‚≠ê Se√ßilmi≈ü kateqoriya</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="form-section-title">SEO m…ôlumatlarƒ±</h3>
                    
                    <div class="form-group">
                        <label for="slug" class="form-label">URL Slug</label>
                        <input type="text" id="slug" name="slug" class="form-input" placeholder="avtomatik-yaradilacaq">
                        <small class="form-hint">URL-d…ô g√∂r√ºn…ôc…ôk ad (bo≈ü buraxsaq avtomatik yaradƒ±lacaq)</small>
                    </div>

                    <div class="form-group">
                        <label for="metaTitle" class="form-label">Meta Ba≈ülƒ±q</label>
                        <input type="text" id="metaTitle" name="metaTitle" class="form-input" placeholder="Axtarƒ±≈ü n…ôtic…ôl…ôrind…ô g√∂r√ºn…ôc…ôk ba≈ülƒ±q">
                    </div>

                    <div class="form-group">
                        <label for="metaDescription" class="form-label">Meta T…ôsvir</label>
                        <textarea id="metaDescription" name="metaDescription" class="form-textarea" rows="2" placeholder="Axtarƒ±≈ü n…ôtic…ôl…ôrind…ô g√∂r√ºn…ôc…ôk qƒ±sa t…ôsvir"></textarea>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="window.location.href='admin-panel.html'">L…ôƒüv et</button>
                    <button type="submit" class="btn btn-primary">Kateqoriya Yarat</button>
                </div>
            </form>
        </div>
    </main>

    <script src="assets/js/app.js"></script>
    <script src="assets/js/auth.js"></script>
    <script>
        // Icon preview
        document.getElementById('categoryIcon').addEventListener('input', function(e) {
            const icon = e.target.value || 'üìÇ';
            document.getElementById('iconPreview').textContent = icon;
        });

        // Auto-generate slug from category name
        document.getElementById('categoryName').addEventListener('input', function(e) {
            const slugInput = document.getElementById('slug');
            if (!slugInput.value || slugInput.dataset.autoGenerate !== 'false') {
                const slug = e.target.value
                    .toLowerCase()
                    .replace(/…ô/g, 'e')
                    .replace(/ƒ±/g, 'i')
                    .replace(/ƒü/g, 'g')
                    .replace(/√º/g, 'u')
                    .replace(/√∂/g, 'o')
                    .replace(/≈ü/g, 's')
                    .replace(/√ß/g, 'c')
                    .replace(/[^a-z0-9]+/g, '-')
                    .replace(/^-+|-+$/g, '');
                slugInput.value = slug;
                slugInput.dataset.autoGenerate = 'true';
            }
        });

        // Prevent auto-generation if user manually edits slug
        document.getElementById('slug').addEventListener('input', function() {
            this.dataset.autoGenerate = 'false';
        });

        // Handle form submission
        document.getElementById('createCategoryForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Collect form data
            const formData = new FormData(this);
            
            // Create category object
            const categoryData = {
                name: formData.get('categoryName'),
                icon: formData.get('categoryIcon'),
                description: formData.get('description'),
                status: formData.get('status'),
                sortOrder: formData.get('sortOrder'),
                showInMenu: document.getElementById('showInMenu').checked,
                featured: document.getElementById('featured').checked,
                slug: formData.get('slug'),
                metaTitle: formData.get('metaTitle'),
                metaDescription: formData.get('metaDescription')
            };
            
            console.log('Category Data:', categoryData);
            
            // Show success message
            alert('Kateqoriya uƒüurla yaradƒ±ldƒ±! ‚úì');
            
            // Redirect to admin panel
            window.location.href = 'admin-panel.html';
        });
    </script>
</body>
</html>

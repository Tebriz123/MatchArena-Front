<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R…ôngi Yenil…ô - MatchArena</title>  
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="index.html">
                    <svg class="logo-icon" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="16" cy="16" r="16" fill="#22C55E"/>
                        <path d="M16 6C10.48 6 6 10.48 6 16C6 21.52 10.48 26 16 26C21.52 26 26 21.52 26 16C26 10.48 21.52 6 16 6ZM16 24C11.59 24 8 20.41 8 16C8 11.59 11.59 8 16 8C20.41 8 24 11.59 24 16C24 20.41 20.41 24 16 24ZM16 10L13.5 12.5L11 10L10 14L14 15L16 18L18 15L22 14L21 10L18.5 12.5L16 10Z" fill="white"/>
                    </svg>
                    <span>MatchArena</span>
                </a>
            </div>
            <div class="nav-menu">
                <a href="players.html" class="nav-link">Oyun√ßular</a>
                <a href="teams.html" class="nav-link">Komandalar</a>
                <a href="fields.html" class="nav-link">Meydan√ßalar</a>
                <a href="tournaments.html" class="nav-link">Turnirler</a>
                <a href="products.html" class="nav-link">M…ôhsullar</a>
            </div>
            <div class="nav-right">
                <button class="theme-toggle">üåê</button>
                <button class="notification-btn">üîî</button>
                <span class="user-name">Admin</span>
                <a href="admin-panel.html" class="login-btn">Admin Panel</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main>
        <div class="form-container">
            <h1 class="section-title">R…ôngi Yenil…ô</h1>
            <p class="section-subtitle">R…ông m…ôlumatlarƒ±nƒ± redakt…ô edin</p>

            <form class="create-form" id="updateColorForm">
                <!-- Hidden field for color ID -->
                <input type="hidden" id="colorId" name="colorId">

                <div class="form-section">
                    <h3 class="form-section-title">∆èsas M…ôlumatlar</h3>
                    
                    <div class="form-group">
                        <label for="colorName" class="form-label">R…ông Adƒ± *</label>
                        <input type="text" id="colorName" name="colorName" class="form-input" required placeholder="M…ôs. Qara, Aƒü, Qƒ±rmƒ±zƒ±">
                    </div>

                    <div class="form-group">
                        <label for="colorHex" class="form-label">Hex Kod *</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <input type="text" id="colorHex" name="colorHex" class="form-input" required placeholder="#000000" pattern="^#[0-9A-Fa-f]{6}$" maxlength="7" style="flex: 1;">
                            <input type="color" id="colorPicker" value="#000000" style="width: 60px; height: 42px; border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; background: transparent; cursor: pointer;">
                        </div>
                        <small class="form-hint">R…ông kodunu daxil edin v…ô ya color picker istifad…ô edin</small>
                    </div>

                    <div class="form-group">
                        <label class="form-label">R…ông √ñnizl…ôm…ôsi</label>
                        <div style="display: flex; gap: 20px; align-items: center;">
                            <div style="display: flex; align-items: center; justify-content: center; width: 100px; height: 100px; border-radius: 50%; border: 3px solid rgba(255,255,255,0.2); box-shadow: 0 4px 12px rgba(0,0,0,0.3);" id="colorPreviewLarge">
                            </div>
                            <div>
                                <div style="margin-bottom: 8px;">
                                    <span style="color: rgba(255,255,255,0.6); font-size: 0.9rem;">Ki√ßik:</span>
                                    <span style="display: inline-block; width: 30px; height: 30px; border-radius: 50%; border: 2px solid rgba(255,255,255,0.2); margin-left: 10px; vertical-align: middle;" id="colorPreviewSmall"></span>
                                </div>
                                <div>
                                    <span style="color: rgba(255,255,255,0.6); font-size: 0.9rem;">Orta:</span>
                                    <span style="display: inline-block; width: 50px; height: 50px; border-radius: 50%; border: 2px solid rgba(255,255,255,0.2); margin-left: 10px; vertical-align: middle;" id="colorPreviewMedium"></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="status" class="form-label">Status *</label>
                        <select id="status" name="status" class="form-input" required>
                            <option value="active">Aktiv</option>
                            <option value="inactive">ƒ∞naktiv</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">M…ôhsul Sayƒ±</label>
                        <div style="padding: 12px; background: linear-gradient(145deg, #1a1f2e, #232a3b); border-radius: 8px; border: 1px solid rgba(255,255,255,0.1);">
                            <span style="color: rgba(255,255,255,0.9); font-weight: 600; font-size: 1.1rem;" id="productCount">0</span>
                            <span style="color: rgba(255,255,255,0.5); margin-left: 8px;">m…ôhsulda istifad…ô olunur</span>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="form-section-title">∆èlav…ô M…ôlumatlar</h3>
                    
                    <div class="form-group">
                        <label for="description" class="form-label">T…ôsvir</label>
                        <textarea id="description" name="description" class="form-textarea" rows="2" placeholder="R…ông haqqƒ±nda …ôlav…ô m…ôlumat (ixtiyari)"></textarea>
                    </div>

                    <div class="form-group">
                        <label for="sortOrder" class="form-label">Sƒ±ralama</label>
                        <input type="number" id="sortOrder" name="sortOrder" class="form-input" min="0" value="0" placeholder="0">
                        <small class="form-hint">R…ôngl…ôrin g√∂r√ºnm…ô ardƒ±cƒ±llƒ±ƒüƒ± (0 - …ôn √ºstd…ô)</small>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="window.location.href='admin-panel.html'">L…ôƒüv et</button>
                    <button type="submit" class="btn btn-primary">R…ôngi Yenil…ô</button>
                </div>
            </form>
        </div>
    </main>

    <script src="assets/js/app.js"></script>
    <script src="assets/js/auth.js"></script>
    <script>
        // Load color data when page loads
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const colorId = urlParams.get('id');
            
            if (colorId) {
                loadColorData(colorId);
            }
        });

        // Update color preview
        function updateColorPreview(color) {
            document.getElementById('colorPreviewLarge').style.background = color;
            document.getElementById('colorPreviewSmall').style.background = color;
            document.getElementById('colorPreviewMedium').style.background = color;
        }

        // Sync hex input with color picker
        document.getElementById('colorHex').addEventListener('input', function(e) {
            let value = e.target.value;
            
            // Auto-add # if not present
            if (value && !value.startsWith('#')) {
                value = '#' + value;
                e.target.value = value;
            }
            
            // Validate and update
            if (/^#[0-9A-Fa-f]{6}$/.test(value)) {
                document.getElementById('colorPicker').value = value;
                updateColorPreview(value);
            }
        });

        // Sync color picker with hex input
        document.getElementById('colorPicker').addEventListener('input', function(e) {
            const color = e.target.value.toUpperCase();
            document.getElementById('colorHex').value = color;
            updateColorPreview(color);
        });

        // Handle form submission
        document.getElementById('updateColorForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            
            const colorData = {
                id: document.getElementById('colorId').value,
                name: formData.get('colorName'),
                hex: formData.get('colorHex'),
                description: formData.get('description'),
                status: formData.get('status'),
                sortOrder: formData.get('sortOrder')
            };
            
            console.log('Updated Color Data:', colorData);
            
            alert('R…ông uƒüurla yenil…ôndi! ‚úì');
            window.location.href = 'admin-panel.html';
        });

        function loadColorData(colorId) {
            // Demo data for different colors
            const demoColors = {
                'CL001': {
                    name: 'Qara',
                    hex: '#000000',
                    description: 'Klassik qara r…ông',
                    status: 'active',
                    sortOrder: 1,
                    productCount: 156
                },
                'CL002': {
                    name: 'Aƒü',
                    hex: '#FFFFFF',
                    description: 'T…ômiz aƒü r…ông',
                    status: 'active',
                    sortOrder: 2,
                    productCount: 142
                },
                'CL003': {
                    name: 'Qƒ±rmƒ±zƒ±',
                    hex: '#FF0000',
                    description: 'Parlaq qƒ±rmƒ±zƒ± r…ông',
                    status: 'active',
                    sortOrder: 3,
                    productCount: 98
                },
                'CL004': {
                    name: 'Mavi',
                    hex: '#0000FF',
                    description: 'G√∂y mavi r…ông',
                    status: 'active',
                    sortOrder: 4,
                    productCount: 87
                },
                'CL005': {
                    name: 'Ya≈üƒ±l',
                    hex: '#00FF00',
                    description: 'Parlaq ya≈üƒ±l r…ông',
                    status: 'active',
                    sortOrder: 5,
                    productCount: 65
                },
                'CL006': {
                    name: 'Sarƒ±',
                    hex: '#FFFF00',
                    description: 'Parlaq sarƒ± r…ông',
                    status: 'active',
                    sortOrder: 6,
                    productCount: 43
                }
            };

            const color = demoColors[colorId] || demoColors['CL001'];
            
            // Fill form fields
            document.getElementById('colorId').value = colorId;
            document.getElementById('colorName').value = color.name;
            document.getElementById('colorHex').value = color.hex;
            document.getElementById('colorPicker').value = color.hex;
            document.getElementById('description').value = color.description || '';
            document.getElementById('status').value = color.status;
            document.getElementById('sortOrder').value = color.sortOrder;
            document.getElementById('productCount').textContent = color.productCount;
            
            // Update preview
            updateColorPreview(color.hex);
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M…ôhsulu Yenil…ô - MatchArena</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="index.html">
                    <svg class="logo-icon" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="16" cy="16" r="16" fill="#22C55E"/>
                        <path d="M16 6C10.48 6 6 10.48 6 16C6 21.52 10.48 26 16 26C21.52 26 26 21.52 26 16C26 10.48 21.52 6 16 6ZM16 24C11.59 24 8 20.41 8 16C8 11.59 11.59 8 16 8C20.41 8 24 11.59 24 16C24 20.41 20.41 24 16 24ZM16 10L13.5 12.5L11 10L10 14L14 15L16 18L18 15L22 14L21 10L18.5 12.5L16 10Z" fill="white"/>
                    </svg>
                    <span>MatchArena</span>
                </a>
            </div>
            <div class="nav-menu">
                <a href="players.html" class="nav-link">Oyun√ßular</a>
                <a href="teams.html" class="nav-link">Komandalar</a>
                <a href="fields.html" class="nav-link">Meydan√ßalar</a>
                <a href="tournaments.html" class="nav-link">Turnirler</a>
                <a href="products.html" class="nav-link">M…ôhsullar</a>
            </div>
            <div class="nav-right">
                <button class="theme-toggle">üåê</button>
                <button class="notification-btn">üîî</button>
                <span class="user-name">Admin</span>
                <a href="admin-panel.html" class="login-btn">Admin Panel</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main>
        <div class="form-container">
            <h1 class="section-title">M…ôhsulu Yenil…ô</h1>
            <p class="section-subtitle">M…ôhsul m…ôlumatlarƒ±nƒ± redakt…ô edin</p>

            <form class="create-form" id="updateProductForm">
                <!-- Hidden field for product ID -->
                <input type="hidden" id="productId" name="productId">

                <div class="form-section">
                    <h3 class="form-section-title">∆èsas M…ôlumatlar</h3>
                    
                    <div class="form-group">
                        <label for="productName" class="form-label">M…ôhsul Adƒ± *</label>
                        <input type="text" id="productName" name="productName" class="form-input" required placeholder="M…ôs. Futbol Topu - Pro">
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="category" class="form-label">Kateqoriya *</label>
                            <select id="category" name="category" class="form-input" required>
                                <option value="">Kateqoriya se√ßin</option>
                                <option value="C001">‚öΩ Avadanlƒ±q</option>
                                <option value="C002">üëï Geyim</option>
                                <option value="C003">üõ°Ô∏è Qoruyucu</option>
                                <option value="C004">üéí Aksesuar</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="brand" class="form-label">Brend</label>
                            <input type="text" id="brand" name="brand" class="form-input" placeholder="M…ôs. Nike, Adidas">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="currentImage" class="form-label">Cari ∆èsas ≈û…ôkil</label>
                        <div id="currentImagePreview" style="margin-bottom: 10px;">
                            <img id="currentProductImage" src="" alt="Current Product" style="max-width: 200px; max-height: 200px; border-radius: 8px; display: none;">
                        </div>
                        <label for="productMainImage" class="form-label">Yeni ∆èsas ≈û…ôkil</label>
                        <input type="file" id="productMainImage" name="productMainImage" class="form-input" accept="image/*">
                        <small class="form-hint">Yeni …ôsas ≈ü…ôkil y√ºkl…ôyin (PNG, JPG, JPEG). Bo≈ü buraxsaq, m√∂vcud ≈ü…ôkil saxlanƒ±lacaq.</small>
                    </div>

                    <div class="form-group">
                        <label for="productGallery" class="form-label">∆èlav…ô ≈û…ôkill…ôr</label>
                        <div id="currentGalleryPreview" style="margin-bottom: 10px; display: flex; gap: 10px; flex-wrap: wrap;"></div>
                        <input type="file" id="productGallery" name="productGallery" class="form-input" accept="image/*" multiple>
                        <small class="form-hint">Yeni …ôlav…ô ≈ü…ôkill…ôr y√ºkl…ôyin (Bo≈ü buraxsaq, m√∂vcud ≈ü…ôkill…ôr saxlanƒ±lacaq)</small>
                    </div>

                    <div class="form-group">
                        <label for="description" class="form-label">T…ôsvir *</label>
                        <textarea id="description" name="description" class="form-textarea" rows="4" required placeholder="M…ôhsul haqqƒ±nda m…ôlumat yazƒ±n..."></textarea>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="form-section-title">Qiym…ôt v…ô Stok</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="price" class="form-label">Qiym…ôt (‚Çº) *</label>
                            <input type="number" id="price" name="price" class="form-input" required min="0" step="0.01" placeholder="0.00">
                        </div>

                        <div class="form-group">
                            <label for="comparePrice" class="form-label">M√ºqayis…ô Qiym…ôti (‚Çº)</label>
                            <input type="number" id="comparePrice" name="comparePrice" class="form-input" min="0" step="0.01" placeholder="0.00">
                            <small class="form-hint">∆èg…ôr endirim varsa, k√∂hn…ô qiym…ôti daxil edin</small>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="stock" class="form-label">Stok Miqdarƒ± *</label>
                            <input type="number" id="stock" name="stock" class="form-input" required min="0" placeholder="0">
                        </div>

                        <div class="form-group">
                            <label for="sku" class="form-label">SKU Kodu</label>
                            <input type="text" id="sku" name="sku" class="form-input" placeholder="M…ôs. FB-PRO-001">
                            <small class="form-hint">M…ôhsul eynil…ô≈üdirm…ô kodu</small>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="status" class="form-label">Status *</label>
                        <select id="status" name="status" class="form-input" required>
                            <option value="active">Aktiv</option>
                            <option value="inactive">ƒ∞naktiv</option>
                            <option value="low-stock">Az Stok</option>
                            <option value="out-of-stock">Stokda Yoxdur</option>
                        </select>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="form-section-title">R…ôngl…ôr v…ô √ñl√ß√ºl…ôr</h3>
                    
                    <div class="form-group">
                        <label class="form-label">M√∂vcud R…ôngl…ôr *</label>
                        <div class="form-checkbox-group" id="colorsGroup">
                            <label class="checkbox-label">
                                <input type="checkbox" name="colors" value="CL001">
                                <span style="display: inline-flex; align-items: center; gap: 8px;">
                                    <span style="display: inline-block; width: 20px; height: 20px; background: #000000; border-radius: 50%; border: 2px solid rgba(255,255,255,0.2);"></span>
                                    Qara
                                </span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="colors" value="CL002">
                                <span style="display: inline-flex; align-items: center; gap: 8px;">
                                    <span style="display: inline-block; width: 20px; height: 20px; background: #FFFFFF; border-radius: 50%; border: 2px solid rgba(255,255,255,0.2);"></span>
                                    Aƒü
                                </span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="colors" value="CL003">
                                <span style="display: inline-flex; align-items: center; gap: 8px;">
                                    <span style="display: inline-block; width: 20px; height: 20px; background: #FF0000; border-radius: 50%; border: 2px solid rgba(255,255,255,0.2);"></span>
                                    Qƒ±rmƒ±zƒ±
                                </span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="colors" value="CL004">
                                <span style="display: inline-flex; align-items: center; gap: 8px;">
                                    <span style="display: inline-block; width: 20px; height: 20px; background: #0000FF; border-radius: 50%; border: 2px solid rgba(255,255,255,0.2);"></span>
                                    Mavi
                                </span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="colors" value="CL005">
                                <span style="display: inline-flex; align-items: center; gap: 8px;">
                                    <span style="display: inline-block; width: 20px; height: 20px; background: #00FF00; border-radius: 50%; border: 2px solid rgba(255,255,255,0.2);"></span>
                                    Ya≈üƒ±l
                                </span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="colors" value="CL006">
                                <span style="display: inline-flex; align-items: center; gap: 8px;">
                                    <span style="display: inline-block; width: 20px; height: 20px; background: #FFFF00; border-radius: 50%; border: 2px solid rgba(255,255,255,0.2);"></span>
                                    Sarƒ±
                                </span>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">M√∂vcud √ñl√ß√ºl…ôr *</label>
                        <div class="form-checkbox-group" id="sizesGroup">
                            <label class="checkbox-label">
                                <input type="checkbox" name="sizes" value="S001">
                                <span>XS</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="sizes" value="S002">
                                <span>S</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="sizes" value="S003">
                                <span>M</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="sizes" value="S004">
                                <span>L</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="sizes" value="S005">
                                <span>XL</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="sizes" value="S006">
                                <span>39</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="sizes" value="S007">
                                <span>42</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="sizes" value="S008">
                                <span>One Size</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="form-section-title">X√ºsusiyy…ôtl…ôr</h3>
                    
                    <div class="form-group">
                        <label class="form-label">∆èlav…ô X√ºsusiyy…ôtl…ôr</label>
                        <div class="form-checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="featured" id="featured">
                                <span>‚≠ê Se√ßilmi≈ü M…ôhsul</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="bestseller" id="bestseller">
                                <span>üî• ∆èn √áox Satƒ±lan</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="newArrival" id="newArrival">
                                <span>üÜï Yeni G…ôlm…ô</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="onSale" id="onSale">
                                <span>üí∞ Endirimd…ô</span>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="weight" class="form-label">√á…ôki (qram)</label>
                        <input type="number" id="weight" name="weight" class="form-input" min="0" placeholder="0">
                    </div>

                    <div class="form-group">
                        <label for="material" class="form-label">Material</label>
                        <input type="text" id="material" name="material" class="form-input" placeholder="M…ôs. D…ôri, Polyester">
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="form-section-title">SEO v…ô Metadata</h3>
                    
                    <div class="form-group">
                        <label for="metaTitle" class="form-label">Meta Ba≈ülƒ±q</label>
                        <input type="text" id="metaTitle" name="metaTitle" class="form-input" placeholder="Axtarƒ±≈ü n…ôtic…ôl…ôrind…ô g√∂r√ºn…ôc…ôk ba≈ülƒ±q">
                    </div>

                    <div class="form-group">
                        <label for="metaDescription" class="form-label">Meta T…ôsvir</label>
                        <textarea id="metaDescription" name="metaDescription" class="form-textarea" rows="3" placeholder="Axtarƒ±≈ü n…ôtic…ôl…ôrind…ô g√∂r√ºn…ôc…ôk qƒ±sa t…ôsvir"></textarea>
                    </div>

                    <div class="form-group">
                        <label for="tags" class="form-label">Etiketl…ôr</label>
                        <input type="text" id="tags" name="tags" class="form-input" placeholder="M…ôs. futbol, top, avadanlƒ±q (verg√ºll…ô ayƒ±rƒ±n)">
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="window.location.href='admin-panel.html'">L…ôƒüv et</button>
                    <button type="submit" class="btn btn-primary">M…ôhsulu Yenil…ô</button>
                </div>
            </form>
        </div>
    </main>

    <script src="assets/js/app.js"></script>
    <script src="assets/js/auth.js"></script>
    <script>
        // Load product data when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Get product ID from URL parameter
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('id');
            
            if (productId) {
                // Load product data (this would normally fetch from API)
                loadProductData(productId);
            }
        });

        // Handle form submission
        document.getElementById('updateProductForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Collect form data
            const formData = new FormData(this);
            
            // Collect selected colors
            const colors = [];
            document.querySelectorAll('input[name="colors"]:checked').forEach(checkbox => {
                colors.push(checkbox.value);
            });
            
            // Collect selected sizes
            const sizes = [];
            document.querySelectorAll('input[name="sizes"]:checked').forEach(checkbox => {
                sizes.push(checkbox.value);
            });
            
            // Validate colors and sizes
            if (colors.length === 0) {
                alert('‚ö†Ô∏è ∆èn azƒ± bir r…ông se√ßm…ôlisiniz!');
                document.getElementById('colorsGroup').scrollIntoView({ behavior: 'smooth', block: 'center' });
                return;
            }
            
            if (sizes.length === 0) {
                alert('‚ö†Ô∏è ∆èn azƒ± bir √∂l√ß√º se√ßm…ôlisiniz!');
                document.getElementById('sizesGroup').scrollIntoView({ behavior: 'smooth', block: 'center' });
                return;
            }
            
            // Create product object (in real implementation, this would be sent to API)
            const productData = {
                id: document.getElementById('productId').value,
                name: formData.get('productName'),
                category: formData.get('category'),
                brand: formData.get('brand'),
                description: formData.get('description'),
                price: formData.get('price'),
                comparePrice: formData.get('comparePrice'),
                stock: formData.get('stock'),
                sku: formData.get('sku'),
                status: formData.get('status'),
                colors: colors,
                sizes: sizes,
                featured: document.getElementById('featured').checked,
                bestseller: document.getElementById('bestseller').checked,
                newArrival: document.getElementById('newArrival').checked,
                onSale: document.getElementById('onSale').checked,
                weight: formData.get('weight'),
                material: formData.get('material'),
                metaTitle: formData.get('metaTitle'),
                metaDescription: formData.get('metaDescription'),
                tags: formData.get('tags')
            };
            
            console.log('Updated Product Data:', productData);
            
            // Show success message
            alert('M…ôhsul uƒüurla yenil…ôndi! ‚úì');
            
            // Redirect to admin panel
            window.location.href = 'admin-panel.html';
        });

        function loadProductData(productId) {
            // This is a placeholder - in real implementation, this would fetch from API
            // For now, we'll use demo data
            const demoProducts = {
                'P001': {
                    name: 'Futbol Topu - Pro',
                    category: 'C001',
                    brand: 'Adidas',
                    description: 'Professional quality football for competitive matches',
                    price: 45.00,
                    comparePrice: 55.00,
                    stock: 120,
                    sku: 'FB-PRO-001',
                    status: 'active',
                    colors: ['CL001', 'CL002'],
                    sizes: ['S008'],
                    featured: true,
                    bestseller: false,
                    newArrival: false,
                    onSale: true,
                    weight: 450,
                    material: 'D…ôri',
                    metaTitle: 'Professional Football - Adidas Pro',
                    metaDescription: 'High quality football for professional matches',
                    tags: 'futbol, top, professional',
                    image: 'assets/img/products/football-ball.jpg'
                },
                'P002': {
                    name: 'Futbol Ayaqqabƒ±sƒ± - Nike',
                    category: 'C002',
                    brand: 'Nike',
                    description: 'Professional Nike football shoes for players',
                    price: 120.00,
                    comparePrice: 0,
                    stock: 45,
                    sku: 'FS-NIKE-002',
                    status: 'active',
                    colors: ['CL001', 'CL002', 'CL003'],
                    sizes: ['S006', 'S007'],
                    featured: false,
                    bestseller: true,
                    newArrival: false,
                    onSale: false,
                    weight: 280,
                    material: 'S√ºni d…ôri, Mesh',
                    metaTitle: 'Nike Football Shoes',
                    metaDescription: 'High performance football shoes',
                    tags: 'futbol, ayaqqabƒ±, nike',
                    image: 'assets/img/products/football-shoes.jpg'
                },
                'P003': {
                    name: 'Baldƒ±r Qoruyucusu',
                    category: 'C003',
                    brand: 'Pro Guard',
                    description: 'Professional shin guards for maximum protection',
                    price: 25.00,
                    comparePrice: 0,
                    stock: 5,
                    sku: 'SG-PRO-003',
                    status: 'low-stock',
                    colors: ['CL001', 'CL002'],
                    sizes: ['S003', 'S004'],
                    featured: false,
                    bestseller: false,
                    newArrival: true,
                    onSale: false,
                    weight: 120,
                    material: 'Plastik, K√∂p√ºk',
                    metaTitle: 'Professional Shin Guards',
                    metaDescription: 'Maximum protection for players',
                    tags: 'baldƒ±r, qoruyucu, t…ôhl√ºk…ôsizlik',
                    image: 'assets/img/products/shin-guards.jpg'
                }
            };

            const product = demoProducts[productId] || demoProducts['P001'];
            
            // Fill form fields
            document.getElementById('productId').value = productId;
            document.getElementById('productName').value = product.name;
            document.getElementById('category').value = product.category;
            document.getElementById('brand').value = product.brand;
            document.getElementById('description').value = product.description;
            document.getElementById('price').value = product.price;
            if (product.comparePrice) document.getElementById('comparePrice').value = product.comparePrice;
            document.getElementById('stock').value = product.stock;
            document.getElementById('sku').value = product.sku;
            document.getElementById('status').value = product.status;
            
            // Show current image
            if (product.image) {
                document.getElementById('currentProductImage').src = product.image;
                document.getElementById('currentProductImage').style.display = 'block';
            }
            
            // Set checkboxes
            product.colors.forEach(color => {
                const checkbox = document.querySelector(`input[name="colors"][value="${color}"]`);
                if (checkbox) checkbox.checked = true;
            });
            
            product.sizes.forEach(size => {
                const checkbox = document.querySelector(`input[name="sizes"][value="${size}"]`);
                if (checkbox) checkbox.checked = true;
            });
            
            document.getElementById('featured').checked = product.featured;
            document.getElementById('bestseller').checked = product.bestseller;
            document.getElementById('newArrival').checked = product.newArrival;
            document.getElementById('onSale').checked = product.onSale;
            
            if (product.weight) document.getElementById('weight').value = product.weight;
            if (product.material) document.getElementById('material').value = product.material;
            if (product.metaTitle) document.getElementById('metaTitle').value = product.metaTitle;
            if (product.metaDescription) document.getElementById('metaDescription').value = product.metaDescription;
            if (product.tags) document.getElementById('tags').value = product.tags;
        }
    </script>
</body>
</html>
